@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "CRMS Login";
}



<div class="text-center">
    <h1>Hope Haven Collaborative Resource Management System</h1>
    <div class="pin-container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 pin-pad-container">
                <div class="row">
                        <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(1)">1</div>
                        </div>
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(2)">2</div>
                     </div>
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(3)">3</div>
                        </div>
                    </div>
                    <div class="row">
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(4)">4</div>
                        </div>
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(5)">5</div>
                        </div>
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(6)">6</div>
                        </div>
                    </div>
                    <div class="row">
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(7)">7</div>
                        </div>
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(8)">8</div>
                        </div>
                    <div class="col-md-4 col-sm-4">
                            <div class="button btn-info btn-lg" onclick="appendPin(9)">9</div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-sm-4">
                        <div class="button btn-info btn-lg" onclick="deleteDigit()">Delete</div>
                    </div>
                    <div class="col-md-4 col-sm-4">
                        <div class="button btn-info btn-lg" onclick="appendPin(0)">0</div>
                    </div>
                    <div class="col-md-4 col-sm-4">
                        <div class="button btn-info btn-lg" onclick="submitPin()">Submit</div>
                    </div>
                </div>
                <input type="text" id="pin-input" class="form-control mt-3" placeholder="Enter 6-digit PIN" readonly>
            </div>
        </div>
    </div>
    <div class="mt-3">Admin: 111111 Editor: 222222 Staff: 333333</div>
</div>


<script>
    let pin = '';
    const pinInput = document.getElementById('pin-input');

    function appendPin(number) {
        if (pin.length < 6) {
            pin += number;
            pinInput.value = pin;
        }

        if (pin.length === 6) {
           
            submitPin();
        }
    }

    function deleteDigit() {
        if (pin.length > 0) {
            pin = pin.slice(0, -1);
            pinInput.value = pin; 
        }
    }

    function clearPin() {
        pin = '';
        pinInput.value = '';
    }

    function submitPin() {
        if (pin === '111111') {
            window.location.href = '@Url.Action("AdminIndex", "Admin")';
            clearPin();
        }
        else if (pin === '222222') {
            window.location.href = '@Url.Action("EditorIndex", "Editor")';
            clearPin();
        }
        else if (pin === '333333') {
            window.location.href = '@Url.Action("StaffIndex", "Staff")';
            clearPin();
        }
        else {
            alert('Incorrect PIN Number. Please try again.');
            clearPin();
        }
    }

</script>